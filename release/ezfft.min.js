function fft(r,n){let e=[],t=[],o=r.length/n;e=(e=transform(r,r)).slice(0,e.length/2);for(let r=0;r<e.length;r++)e[r]=Math.abs(e[r]/e.length),t[r]=r/o;return[e,t]}function ifft(r,n){throw"IFFT NOT IMPLEMENTED, PLS HLP IDK HOW TO DO IT (T.T)"}function transform(r,n){var e=r.length;if(e!=n.length)throw"Mismatched lengths";return 0==e?void 0:0==(e&e-1)?transformRadix2(r,n):transformBluestein(r,n)}function inverseTransform(r,n){return transform(n,r)}function transformRadix2(r,n){var e=r.length;if(e!=n.length)throw"Mismatched lengths";if(1!=e){for(var t=-1,o=0;o<32;o++)1<<o==e&&(t=o);if(-1==t)throw"Length is not a power of 2";var a=new Array(e/2),f=new Array(e/2);for(o=0;o<e/2;o++)a[o]=Math.cos(2*Math.PI*o/e),f[o]=Math.sin(2*Math.PI*o/e);for(o=0;o<e;o++){if((v=m(o,t))>o){var h=r[o];r[o]=r[v],r[v]=h,h=n[o],n[o]=n[v],n[v]=h}}for(var s=2;s<=e;s*=2){var l=s/2,i=e/s;for(o=0;o<e;o+=s)for(var v=o,c=0;v<o+l;v++,c+=i){var g=v+l,w=r[g]*a[c]+n[g]*f[c],u=-r[g]*f[c]+n[g]*a[c];r[g]=r[v]-w,n[g]=n[v]-u,r[v]+=w,n[v]+=u}}return r}function m(r,n){for(var e=0,t=0;t<n;t++)e=e<<1|1&r,r>>>=1;return e}}function transformBluestein(r,n){var e=r.length;if(e!=n.length)throw"Mismatched lengths";for(var t=1;t<2*e+1;)t*=2;for(var o=new Array(e),a=new Array(e),f=0;f<e;f++){var h=f*f%(2*e);o[f]=Math.cos(Math.PI*h/e),a[f]=Math.sin(Math.PI*h/e)}var s=newArrayOfZeros(t),l=newArrayOfZeros(t);for(f=0;f<e;f++)s[f]=r[f]*o[f]+n[f]*a[f],l[f]=-r[f]*a[f]+n[f]*o[f];var i=newArrayOfZeros(t),v=newArrayOfZeros(t);i[0]=o[0],v[0]=a[0];for(f=1;f<e;f++)i[f]=i[t-f]=o[f],v[f]=v[t-f]=a[f];var c=new Array(t),g=new Array(t);convolveComplex(s,l,i,v,c,g);for(f=0;f<e;f++)r[f]=c[f]*o[f]+g[f]*a[f],n[f]=-c[f]*a[f]+g[f]*o[f];return r}function convolveReal(r,n,e){var t=r.length;if(t!=n.length||t!=e.length)throw"Mismatched lengths";convolveComplex(r,newArrayOfZeros(t),n,newArrayOfZeros(t),e,newArrayOfZeros(t))}function convolveComplex(r,n,e,t,o,a){var f=r.length;if(f!=n.length||f!=e.length||f!=t.length||f!=o.length||f!=a.length)throw"Mismatched lengths";r=r.slice(),n=n.slice(),e=e.slice(),t=t.slice(),transform(r,n),transform(e,t);for(var h=0;h<f;h++){var s=r[h]*e[h]-n[h]*t[h];n[h]=n[h]*e[h]+r[h]*t[h],r[h]=s}inverseTransform(r,n);for(h=0;h<f;h++)o[h]=r[h]/f,a[h]=n[h]/f}function newArrayOfZeros(r){for(var n=[],e=0;e<r;e++)n.push(0);return n}module.exports={fft:fft,ifft:ifft};