var e={d:(r,t)=>{for(var a in t)e.o(t,a)&&!e.o(r,a)&&Object.defineProperty(r,a,{enumerable:!0,get:t[a]})},o:(e,r)=>Object.prototype.hasOwnProperty.call(e,r),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},r={};function t(e,r,t=[],a=.001){let f={time:{realPart:e,imagPart:t,time:[]},frequency:{realPart:[],imagPart:[],amplitude:[],phase:[],frequency:[]},fs:r,samplingTime:0};if(0==f.fs)throw"Sample frequency cannot be zero.";f.samplingTime=f.time.realPart.length/r;for(let e=0;e<f.time.realPart.length;e++)f.time.time[e]=e/r;f.time.imagPart.length!=f.time.realPart.length&&(f.time.imagPart=u(f.time.realPart.length));let i=f.time.realPart.map((function(e){return e})),l=f.time.imagPart.map((function(e){return e}));[f.frequency.realPart,f.frequency.imagPart]=n(i,l);for(let e=0;e<f.frequency.realPart.length;e++)f.frequency.amplitude[e]=Math.sqrt(Math.pow(f.frequency.realPart[e],2)+Math.pow(f.frequency.imagPart[e],2))/(f.frequency.realPart.length/2),f.frequency.phase[e]=Math.atan2(f.frequency.imagPart[e],f.frequency.realPart[e]),f.frequency.frequency[e]=e/f.samplingTime,f.frequency.amplitude[e]<a&&(f.frequency.amplitude[e]=0,f.frequency.phase[e]=0);let c=f.frequency.amplitude.slice(f.frequency.amplitude.length/2,f.frequency.amplitude.length);return c.reverse().forEach((function(e){f.frequency.amplitude.unshift(e),f.frequency.amplitude.pop()})),c=f.frequency.phase.slice(f.frequency.phase.length/2,f.frequency.phase.length),c.reverse().forEach((function(e){f.frequency.phase.unshift(e),f.frequency.phase.pop()})),c=f.frequency.frequency.slice(f.frequency.frequency.length/2,f.frequency.frequency.length),c.forEach((function(e){f.frequency.frequency.unshift(-(e-(r-1)/2)),f.frequency.frequency.pop()})),f.samplingTime-=1/r,f}function a(e,r,t=[],a=[],n=[],i=.001){let l={time:{realPart:[],imagPart:[],time:[]},frequency:{realPart:[],imagPart:[],amplitude:e,phase:[],frequency:r},fs:0,samplingTime:0};l.samplingTime=1/Math.abs(r[1]-r[0]),l.fs=2*r.map(Math.abs).reduce((function(e,r){return Math.max(e,r)}));for(let e=0;e<l.samplingTime*l.fs;e++)l.time.time[e]=e/l.fs;if(0==t.length?l.frequency.phase=u(e.length):l.frequency.phase=t,0==a.length&&0==n.length)for(let e=0;e<l.frequency.amplitude.length;e++)l.frequency.realPart[e]=l.frequency.amplitude[e]*l.frequency.amplitude.length/(2*Math.sqrt(1+Math.pow(Math.tan(l.frequency.phase[e]),2))),l.frequency.imagPart[e]=l.frequency.realPart[e]*Math.tan(l.frequency.phase[e]);else l.frequency.realPart=a.map((function(e){return e})),l.frequency.imagPart=n.map((function(e){return e}));let c=l.frequency.realPart.map((function(e){return e})),h=l.frequency.imagPart.map((function(e){return e}));[l.time.imagPart,l.time.realPart]=f(c,h);for(let e=0;e<l.time.imagPart.length;e++)l.time.imagPart[e]<i&&(l.time.imagPart[e]=0);return l}function n(e,r){var t=e.length;if(t!=r.length)throw"Mismatched lengths";return 0==t?[]:0==(t&t-1)?function(e,r){var t=e.length;if(t!=r.length)throw"Mismatched lengths";if(1==t)return[];for(var a=-1,n=0;n<32;n++)1<<n==t&&(a=n);if(-1==a)throw"Length is not a power of 2";var f=new Array(t/2),u=new Array(t/2);for(n=0;n<t/2;n++)f[n]=Math.cos(2*Math.PI*n/t),u[n]=Math.sin(2*Math.PI*n/t);for(n=0;n<t;n++)if((o=i(n,a))>n){var l=e[n];e[n]=e[o],e[o]=l,l=r[n],r[n]=r[o],r[o]=l}for(var c=2;c<=t;c*=2){var h=c/2,m=t/c;for(n=0;n<t;n+=c)for(var o=n,y=0;o<n+h;o++,y+=m){var g=o+h,p=e[g]*f[y]+r[g]*u[y],s=-e[g]*u[y]+r[g]*f[y];e[g]=e[o]-p,r[g]=r[o]-s,e[o]+=p,r[o]+=s}}return[e,r]}(e,r):function(e,r){var t=e.length;if(t!=r.length)throw"Mismatched lengths";for(var a=1;a<2*t+1;)a*=2;for(var i=new Array(t),l=new Array(t),c=0;c<t;c++){var h=c*c%(2*t);i[c]=Math.cos(Math.PI*h/t),l[c]=Math.sin(Math.PI*h/t)}var m=u(a),o=u(a);for(c=0;c<t;c++)m[c]=e[c]*i[c]+r[c]*l[c],o[c]=-e[c]*l[c]+r[c]*i[c];var y=u(a),g=u(a);for(y[0]=i[0],g[0]=l[0],c=1;c<t;c++)y[c]=y[a-c]=i[c],g[c]=g[a-c]=l[c];var p=new Array(a),s=new Array(a);for(function(e,r,t,a,i,u){var l=e.length;if(l!=r.length||l!=t.length||l!=a.length||l!=i.length||l!=u.length)throw"Mismatched lengths";e=e.slice(),r=r.slice(),t=t.slice(),a=a.slice(),n(e,r),n(t,a);for(var c=0;c<l;c++){var h=e[c]*t[c]-r[c]*a[c];r[c]=r[c]*t[c]+e[c]*a[c],e[c]=h}for(f(e,r),c=0;c<l;c++)i[c]=e[c]/l,u[c]=r[c]/l}(m,o,y,g,p,s),c=0;c<t;c++)e[c]=p[c]*i[c]+s[c]*l[c],r[c]=-p[c]*l[c]+s[c]*i[c];return[e,r]}(e,r)}function f(e,r){return n(r,e)}function i(e,r){for(var t=0,a=0;a<r;a++)t=t<<1|1&e,e>>>=1;return t}function u(e){for(var r=[],t=0;t<e;t++)r.push(0);return r}e.r(r),e.d(r,{fft:()=>t,ifft:()=>a}),module.exports=r;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUdBLEVBQUkrQixFQUFHL0IsSUFDckI2QixFQUFLN0IsR0FBS3VELEVBQU12RCxHQUFLaUMsRUFBU2pDLEdBQUt3RCxFQUFNeEQsR0FBS21DLEVBQVNuQyxHQUN2RDhCLEVBQUs5QixJQUFNdUQsRUFBTXZELEdBQUttQyxFQUFTbkMsR0FBS3dELEVBQU14RCxHQUFLaUMsRUFBU2pDLEdBRzFELE1BQU8sQ0FBQzZCLEVBQU1DLEdBakpMa0MsQ0FBbUJuQyxFQUFNQyxHQVVwQyxTQUFTRixFQUFpQkMsRUFBZ0JDLEdBQ3hDLE9BQU94QixFQUFVd0IsRUFBTUQsR0F3RXpCLFNBQVNXLEVBQVl5QixFQUFXQyxHQUU5QixJQURBLElBQUlDLEVBQUksRUFDQ25FLEVBQUksRUFBR0EsRUFBSWtFLEVBQU1sRSxJQUN4Qm1FLEVBQUtBLEdBQUssRUFBVSxFQUFKRixFQUNoQkEsS0FBTyxFQUVULE9BQU9FLEVBZ0hULFNBQVNsRSxFQUFnQjhCLEdBRXZCLElBREEsSUFBSXFDLEVBQVMsR0FDSnBFLEVBQUksRUFBR0EsRUFBSStCLEVBQUcvQixJQUNyQm9FLEVBQU9DLEtBQUssR0FDZCxPQUFPRCxFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXpmZnQvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vZXpmZnQvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL2V6ZmZ0L3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vZXpmZnQvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9lemZmdC8uL3NyYy9lemZmdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsIi8qIFxyXG4gKiBGcmVlIEZGVCBhbmQgY29udm9sdXRpb24gKEphdmFTY3JpcHQpXHJcbiAqIFxyXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcgUHJvamVjdCBOYXl1a2kuIChNSVQgTGljZW5zZSlcclxuICogaHR0cHM6Ly93d3cubmF5dWtpLmlvL3BhZ2UvZnJlZS1zbWFsbC1mZnQtaW4tbXVsdGlwbGUtbGFuZ3VhZ2VzXHJcbiAqIFxyXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5IG9mXHJcbiAqIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW5cclxuICogdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0b1xyXG4gKiB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZlxyXG4gKiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sXHJcbiAqIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxyXG4gKiAtIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXHJcbiAqICAgYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXHJcbiAqIC0gVGhlIFNvZnR3YXJlIGlzIHByb3ZpZGVkIFwiYXMgaXNcIiwgd2l0aG91dCB3YXJyYW50eSBvZiBhbnkga2luZCwgZXhwcmVzcyBvclxyXG4gKiAgIGltcGxpZWQsIGluY2x1ZGluZyBidXQgbm90IGxpbWl0ZWQgdG8gdGhlIHdhcnJhbnRpZXMgb2YgbWVyY2hhbnRhYmlsaXR5LFxyXG4gKiAgIGZpdG5lc3MgZm9yIGEgcGFydGljdWxhciBwdXJwb3NlIGFuZCBub25pbmZyaW5nZW1lbnQuIEluIG5vIGV2ZW50IHNoYWxsIHRoZVxyXG4gKiAgIGF1dGhvcnMgb3IgY29weXJpZ2h0IGhvbGRlcnMgYmUgbGlhYmxlIGZvciBhbnkgY2xhaW0sIGRhbWFnZXMgb3Igb3RoZXJcclxuICogICBsaWFiaWxpdHksIHdoZXRoZXIgaW4gYW4gYWN0aW9uIG9mIGNvbnRyYWN0LCB0b3J0IG9yIG90aGVyd2lzZSwgYXJpc2luZyBmcm9tLFxyXG4gKiAgIG91dCBvZiBvciBpbiBjb25uZWN0aW9uIHdpdGggdGhlIFNvZnR3YXJlIG9yIHRoZSB1c2Ugb3Igb3RoZXIgZGVhbGluZ3MgaW4gdGhlXHJcbiAqICAgU29mdHdhcmUuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEZGVCBkYXRhIHR5cGVcclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgZmZ0RGF0YSB7XHJcbiAgLyoqXHJcbiAgICogVGltZSBkb21haW4gZGF0YVxyXG4gICAqL1xyXG4gIHRpbWU6IHtcclxuICAgIC8qKlxyXG4gICAgICogUmVhbCBwYXJ0XHJcbiAgICAgKi9cclxuICAgIHJlYWxQYXJ0OiBudW1iZXJbXSxcclxuICAgIC8qKlxyXG4gICAgICogSW1hZ2luYXJ5IHBhcnRcclxuICAgICAqL1xyXG4gICAgaW1hZ1BhcnQ6IG51bWJlcltdLFxyXG4gICAgLyoqXHJcbiAgICAgKiBUaW1lIGF4aXNcclxuICAgICAqL1xyXG4gICAgdGltZTogbnVtYmVyW11cclxuICB9LFxyXG4gIC8qKlxyXG4gICAqIEZyZXF1ZW5jeSBkb21haW4gZGF0YVxyXG4gICAqL1xyXG4gIGZyZXF1ZW5jeToge1xyXG4gICAgLyoqXHJcbiAgICAgKiBGRlQgcmVhbCBwYXJ0XHJcbiAgICAgKi9cclxuICAgIHJlYWxQYXJ0OiBudW1iZXJbXSxcclxuICAgIC8qKlxyXG4gICAgICogRkZUIGltYWdpbmFyeSBwYXJ0XHJcbiAgICAgKi9cclxuICAgIGltYWdQYXJ0OiBudW1iZXJbXSxcclxuICAgIC8qKlxyXG4gICAgICogQW1wbGl0dWRlIG1vZHVsZVxyXG4gICAgICovXHJcbiAgICBhbXBsaXR1ZGU6IG51bWJlcltdLFxyXG4gICAgLyoqXHJcbiAgICAgKiBQaGFzZSBbcmFkXVxyXG4gICAgICovXHJcbiAgICBwaGFzZTogbnVtYmVyW10sXHJcbiAgICAvKipcclxuICAgICAqIEZyZXF1ZW5jeSBheGlzXHJcbiAgICAgKi9cclxuICAgIGZyZXF1ZW5jeTogbnVtYmVyW11cclxuICB9LFxyXG4gIC8qKlxyXG4gICAqIFxyXG4gICAqL1xyXG4gIGZzOiBudW1iZXIsXHJcbiAgLyoqXHJcbiAgICogU2FtcGxpbmcgdGltZSBpbiBzZWNvbmRzXHJcbiAgICovXHJcbiAgc2FtcGxpbmdUaW1lOiBudW1iZXJcclxufVxyXG5cclxuLyoqXHJcbiAqIFBlcmZvcm0gdGhlIEZGVCBvZiBhIGdpdmVuIHNpZ25hbFxyXG4gKiBAcGFyYW0gc2lnbmFsIGlucHV0IHRpbWUgc2lnbmFsIChyZWFsIHBhcnQpXHJcbiAqIEBwYXJhbSBmcyB0aGUgc2FtcGxlIHJhdGUgaW4gSHpcclxuICogQHBhcmFtIGltYWdQYXJ0IGlucHV0IHRpbWUgc2lnbmFsIChpbWFnaW5hcnkgcGFydCwgaWYgYW55KVxyXG4gKiBAcGFyYW0gaWdub3JlRmZ0QW1wbGl0dWRlc0xvd2VyVGhhbiB0aHJlc2hvbGQgdG8gZmlsdGVyIG91dCBzaWduYWxzIGJlbG93IHNvbWUgdmFsdWVcclxuICogQHJldHVybnMgYSBgZmZ0RGF0YWAgd2l0aCB0aGUgcmVzdWx0cyBvZiB0aGUgRkZUXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZmZ0KHNpZ25hbDogbnVtYmVyW10sIGZzOiBudW1iZXIsIGltYWdQYXJ0OiBudW1iZXJbXSA9IFtdLCBpZ25vcmVGZnRBbXBsaXR1ZGVzTG93ZXJUaGFuOiBudW1iZXIgPSAxZS0zKTogZmZ0RGF0YSB7XHJcblxyXG4gIC8vQ3JlYXRlIGFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIGFsbCBkYXRhIGFib3V0IHRoZSBzaWduYWxcclxuICBsZXQgZGF0YTogZmZ0RGF0YSA9IHtcclxuICAgIC8vVGltZSBkb21haW4gZGF0YVxyXG4gICAgdGltZToge1xyXG4gICAgICByZWFsUGFydDogc2lnbmFsLCAvL1JlYWwgcGFydFxyXG4gICAgICBpbWFnUGFydDogaW1hZ1BhcnQsIC8vSW1hZ2luYXJ5IHBhcnRcclxuICAgICAgdGltZTogW10gLy9UaW1lIGF4aXNcclxuICAgIH0sXHJcbiAgICAvL0ZyZXF1ZW5jeSBkb21haW4gZGF0YVxyXG4gICAgZnJlcXVlbmN5OiB7XHJcbiAgICAgIHJlYWxQYXJ0OiBbXSwgLy9GRlQgcmVhbCBwYXJ0XHJcbiAgICAgIGltYWdQYXJ0OiBbXSwgLy9GRlQgaW1hZ2luYXJ5IHBhcnRcclxuICAgICAgYW1wbGl0dWRlOiBbXSwgLy9BbXBsaXR1ZGUgbW9kdWxlXHJcbiAgICAgIHBoYXNlOiBbXSwgLy9QaGFzZSBbcmFkXVxyXG4gICAgICBmcmVxdWVuY3k6IFtdIC8vRnJlcXVlbmN5IGF4aXNcclxuICAgIH0sXHJcbiAgICBmczogZnMsIC8vU2FtcGxlIHJhdGUgaW4gSHpcclxuICAgIHNhbXBsaW5nVGltZTogMCAvL1NhbXBsaW5nIHRpbWUgaW4gc2Vjb25kc1xyXG4gIH1cclxuXHJcbiAgLy9DaGVjayBpZiBcImZzXCIgaXMgbm90IHplcm9cclxuICBpZiAoZGF0YS5mcyA9PSAwKSB7XHJcbiAgICB0aHJvdyBcIlNhbXBsZSBmcmVxdWVuY3kgY2Fubm90IGJlIHplcm8uXCJcclxuXHJcbiAgfSBlbHNlIHtcclxuICAgIC8vQ2FsY3VsYXRlIHRoZSBzYW1wbGluZyB0aW1lIHdpbmRvd1xyXG4gICAgZGF0YS5zYW1wbGluZ1RpbWUgPSBkYXRhLnRpbWUucmVhbFBhcnQubGVuZ3RoIC8gZnM7XHJcblxyXG4gICAgLy9DcmVhdGUgdGltZSBheGlzXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEudGltZS5yZWFsUGFydC5sZW5ndGg7IGkrKykge1xyXG4gICAgICBkYXRhLnRpbWUudGltZVtpXSA9IGkgLyBmcztcclxuICAgIH1cclxuXHJcbiAgICAvL01ha2UgaW1hZ2luYXJ5IHBhcnQgZXF1YWwgdG8gemVybyBpZiB0aGUgYXJndW1lbnQgaXMgbm90IHBhc3NlZFxyXG4gICAgaWYgKGRhdGEudGltZS5pbWFnUGFydC5sZW5ndGggIT0gZGF0YS50aW1lLnJlYWxQYXJ0Lmxlbmd0aCkge1xyXG4gICAgICBkYXRhLnRpbWUuaW1hZ1BhcnQgPSBuZXdBcnJheU9mWmVyb3MoZGF0YS50aW1lLnJlYWxQYXJ0Lmxlbmd0aCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvL0F1eGlsaWFyaWVzIHZhcmlhYmxlcyBmb3IgRkZUIHByb2Nlc3Npbmcgd2l0aG91dCBhZGRyZXNzIGFzc29jaWF0aW9uXHJcbiAgbGV0IGF1eFJlYWwgPSBkYXRhLnRpbWUucmVhbFBhcnQubWFwKGZ1bmN0aW9uIChudW0pIHtcclxuICAgIHJldHVybiBudW07XHJcbiAgfSk7XHJcbiAgbGV0IGF1eEltYWcgPSBkYXRhLnRpbWUuaW1hZ1BhcnQubWFwKGZ1bmN0aW9uIChudW0pIHtcclxuICAgIHJldHVybiBudW07XHJcbiAgfSk7XHJcblxyXG4gIC8vQ2FsY3VsYXRlIHRoZSBGb3VyaWVyIFRyYW5zZm9ybSAoY2FsY3VsYXRlZCBmcm9tIDAgdG8gZnMpXHJcbiAgW2RhdGEuZnJlcXVlbmN5LnJlYWxQYXJ0LCBkYXRhLmZyZXF1ZW5jeS5pbWFnUGFydF0gPSB0cmFuc2Zvcm0oYXV4UmVhbCwgYXV4SW1hZyk7XHJcblxyXG4gIC8vTm9ybWFsaXplIGRhdGFcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEuZnJlcXVlbmN5LnJlYWxQYXJ0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAvL1Rha2UgRkZUIGFtcGxpdHVkZSBtb2R1bGVcclxuICAgIGRhdGEuZnJlcXVlbmN5LmFtcGxpdHVkZVtpXSA9IE1hdGguc3FydChNYXRoLnBvdyhkYXRhLmZyZXF1ZW5jeS5yZWFsUGFydFtpXSwgMikgKyBNYXRoLnBvdyhkYXRhLmZyZXF1ZW5jeS5pbWFnUGFydFtpXSwgMikpIC8gKGRhdGEuZnJlcXVlbmN5LnJlYWxQYXJ0Lmxlbmd0aCAvIDIpO1xyXG5cclxuICAgIC8vVGFrZSB0aGUgRkZUIHBoYXNlXHJcbiAgICBkYXRhLmZyZXF1ZW5jeS5waGFzZVtpXSA9IE1hdGguYXRhbjIoZGF0YS5mcmVxdWVuY3kuaW1hZ1BhcnRbaV0sIGRhdGEuZnJlcXVlbmN5LnJlYWxQYXJ0W2ldKTsgLy9bcmFkXVxyXG5cclxuICAgIC8vQ3JlYXRlIGZyZXF1ZW5jeSBheGlzXHJcbiAgICBkYXRhLmZyZXF1ZW5jeS5mcmVxdWVuY3lbaV0gPSBpIC8gZGF0YS5zYW1wbGluZ1RpbWU7XHJcblxyXG4gICAgLy9SZW1vdmUgYW1wbGl0dWRlIHZhbHVlcyB1bmRlciAxMF4tMyAoZGVmYXVsdCkgYW5kLCB0aHVzLCBpdCdzIHJlc3BlY3RpdmUgcGhhc2UgdmFsdWVzXHJcbiAgICBpZiAoZGF0YS5mcmVxdWVuY3kuYW1wbGl0dWRlW2ldIDwgaWdub3JlRmZ0QW1wbGl0dWRlc0xvd2VyVGhhbikge1xyXG4gICAgICBkYXRhLmZyZXF1ZW5jeS5hbXBsaXR1ZGVbaV0gPSAwO1xyXG4gICAgICBkYXRhLmZyZXF1ZW5jeS5waGFzZVtpXSA9IDA7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvL0FzIEZGVCBpcyBjYWxjdWxhdGVkIGZyb20gMCB0byBmcywgc29tZSBtYW5pcHVsYXRpb24gbXVzdCBiZSBkb25lXHJcbiAgLy9TZW5kIEZGVCBhbXBsaXR1ZGUgZnJvbSBbZnMvMiB0byBmc10gdG8gWy1mcy9zIHRvIDBdXHJcbiAgbGV0IHNvcnRBcnJheUF1eCA9IGRhdGEuZnJlcXVlbmN5LmFtcGxpdHVkZS5zbGljZShkYXRhLmZyZXF1ZW5jeS5hbXBsaXR1ZGUubGVuZ3RoIC8gMiwgZGF0YS5mcmVxdWVuY3kuYW1wbGl0dWRlLmxlbmd0aCk7XHJcbiAgc29ydEFycmF5QXV4LnJldmVyc2UoKS5mb3JFYWNoKGZ1bmN0aW9uIChlbCkge1xyXG4gICAgZGF0YS5mcmVxdWVuY3kuYW1wbGl0dWRlLnVuc2hpZnQoZWwpO1xyXG4gICAgZGF0YS5mcmVxdWVuY3kuYW1wbGl0dWRlLnBvcCgpO1xyXG4gIH0pO1xyXG5cclxuICAvL1NlbmQgRkZUIHBoYXNlIGZyb20gW2ZzLzIgdG8gZnNdIHRvIFstZnMvcyB0byAwXVxyXG4gIHNvcnRBcnJheUF1eCA9IGRhdGEuZnJlcXVlbmN5LnBoYXNlLnNsaWNlKGRhdGEuZnJlcXVlbmN5LnBoYXNlLmxlbmd0aCAvIDIsIGRhdGEuZnJlcXVlbmN5LnBoYXNlLmxlbmd0aCk7XHJcbiAgc29ydEFycmF5QXV4LnJldmVyc2UoKS5mb3JFYWNoKGZ1bmN0aW9uIChlbCkge1xyXG4gICAgZGF0YS5mcmVxdWVuY3kucGhhc2UudW5zaGlmdChlbCk7XHJcbiAgICBkYXRhLmZyZXF1ZW5jeS5waGFzZS5wb3AoKTtcclxuICB9KTtcclxuXHJcbiAgLy9TZW5kIEZGVCBheGlzIGZyb20gW2ZzLzIgdG8gZnNdIHRvIFstZnMvcyB0byAwXSwgbWlycm9yIGFuZCBzdWJ0cmFjdCAoZnMtMSkvMlxyXG4gIHNvcnRBcnJheUF1eCA9IGRhdGEuZnJlcXVlbmN5LmZyZXF1ZW5jeS5zbGljZShkYXRhLmZyZXF1ZW5jeS5mcmVxdWVuY3kubGVuZ3RoIC8gMiwgZGF0YS5mcmVxdWVuY3kuZnJlcXVlbmN5Lmxlbmd0aCk7XHJcbiAgc29ydEFycmF5QXV4LmZvckVhY2goZnVuY3Rpb24gKGVsKSB7XHJcbiAgICBkYXRhLmZyZXF1ZW5jeS5mcmVxdWVuY3kudW5zaGlmdCgtKGVsIC0gKChmcyAtIDEpIC8gMikpKTtcclxuICAgIGRhdGEuZnJlcXVlbmN5LmZyZXF1ZW5jeS5wb3AoKTtcclxuICB9KTtcclxuXHJcbiAgLy9TYW1wbGluZyB0aW1lIGNvcnJlY3Rpb25cclxuICBkYXRhLnNhbXBsaW5nVGltZSAtPSAxIC8gZnM7XHJcblxyXG4gIC8vUmV0dXJucyB0aGUgd2hvbGUgdGhpbmdcclxuICByZXR1cm4gZGF0YTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFBlcmZvcm0gdGhlIElGRlQgb2YgYSBnaXZlbiBzaWduYWxcclxuICogQHBhcmFtIGFtcGxpdHVkZSB0aGUgc2lnbmFsIHJlYWwgYW1wbGl0dWRlIGF4aXMgKG9yIHVzZSBgZmZ0UmVhbFBhcnRgIGFuZCBgZmZ0SW1hZ1BhcnRgKVxyXG4gKiBAcGFyYW0gZnJlcXVlbmN5IHRoZSBmcmVxdWVuY3kgYXhpc1xyXG4gKiBAcGFyYW0gcGhhc2UgdGhlIHBoYXNlIGF4aXNcclxuICogQHBhcmFtIGZmdFJlYWxQYXJ0IHJlYWwgcGFydCBvZiBGRlQgKG92ZXJyaWRlcyB0aGUgcGFyYW1ldGVycyBhbXBsaXR1ZGUgYW5kIHBoYXNlKVxyXG4gKiBAcGFyYW0gZmZ0SW1hZ1BhcnQgaW1hZ2luYXJ5IHBhcnQgb2YgRkZUIChvdmVycmlkZXMgdGhlIHBhcmFtZXRlcnMgYW1wbGl0dWRlIGFuZCBwaGFzZSlcclxuICogQHBhcmFtIGlnbm9yZUltYWdBbXBsaXR1ZGVzTG93ZXJUaGFuIHRocmVzaG9sZCB0byBmaWx0ZXIgb3V0IGltYWcgdmFsdWVzIGJlbG93IHNvbWUgdmFsdWVcclxuICogQHJldHVybnMgYSBgZmZ0RGF0YWAgd2l0aCB0aGUgcmVzdWx0cyBvZiB0aGUgSUZGVFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGlmZnQoYW1wbGl0dWRlOiBudW1iZXJbXSwgZnJlcXVlbmN5OiBudW1iZXJbXSwgcGhhc2U6IG51bWJlcltdID0gW10sIGZmdFJlYWxQYXJ0OiBudW1iZXJbXSA9IFtdLCBmZnRJbWFnUGFydDogbnVtYmVyW10gPSBbXSwgaWdub3JlSW1hZ0FtcGxpdHVkZXNMb3dlclRoYW46IG51bWJlciA9IDFlLTMpOiBmZnREYXRhIHtcclxuICAvL0NyZWF0ZSBhbiBvYmplY3QgdGhhdCBjb250YWlucyBhbGwgZGF0YSBhYm91dCB0aGUgc2lnbmFsXHJcbiAgbGV0IGRhdGE6IGZmdERhdGEgPSB7XHJcbiAgICAvL1RpbWUgZG9tYWluIGRhdGFcclxuICAgIHRpbWU6IHtcclxuICAgICAgcmVhbFBhcnQ6IFtdLCAvL1JlYWwgcGFydFxyXG4gICAgICBpbWFnUGFydDogW10sIC8vSW1hZ2luYXJ5IHBhcnRcclxuICAgICAgdGltZTogW10gLy9UaW1lIGF4aXNcclxuICAgIH0sXHJcbiAgICAvL0ZyZXF1ZW5jeSBkb21haW4gZGF0YVxyXG4gICAgZnJlcXVlbmN5OiB7XHJcbiAgICAgIHJlYWxQYXJ0OiBbXSwgLy9GRlQgcmVhbCBwYXJ0XHJcbiAgICAgIGltYWdQYXJ0OiBbXSwgLy9GRlQgaW1hZ2luYXJ5IHBhcnRcclxuICAgICAgYW1wbGl0dWRlOiBhbXBsaXR1ZGUsIC8vQW1wbGl0dWRlIG1vZHVsZVxyXG4gICAgICBwaGFzZTogW10sIC8vUGhhc2UgW3JhZF1cclxuICAgICAgZnJlcXVlbmN5OiBmcmVxdWVuY3kgLy9GcmVxdWVuY3kgYXhpc1xyXG4gICAgfSxcclxuICAgIGZzOiAwLCAvL1NhbXBsZSByYXRlXHJcbiAgICBzYW1wbGluZ1RpbWU6IDAgLy9TYW1wbGluZyB0aW1lXHJcbiAgfVxyXG5cclxuICAvL0NhbGN1bGF0ZSB0aGUgc2FtcGxpbmcgdGltZSBhbmQgdGhlIHNhbXBsZSByYXRlXHJcbiAgZGF0YS5zYW1wbGluZ1RpbWUgPSAxIC8gKE1hdGguYWJzKGZyZXF1ZW5jeVsxXSAtIGZyZXF1ZW5jeVswXSkpO1xyXG4gIGRhdGEuZnMgPSAyICogZnJlcXVlbmN5Lm1hcChNYXRoLmFicykucmVkdWNlKGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICByZXR1cm4gTWF0aC5tYXgoYSwgYilcclxuICB9KTtcclxuXHJcbiAgLy9HZW5lcmF0ZSB0aGUgdGltZSBheGlzXHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLnNhbXBsaW5nVGltZSAqIGRhdGEuZnM7IGkrKykge1xyXG4gICAgZGF0YS50aW1lLnRpbWVbaV0gPSBpIC8gZGF0YS5mcztcclxuICB9XHJcblxyXG4gIC8vSWYgbm8gcGhhc2UgaGFzIGJlZW4gcGFzc2VkXHJcbiAgaWYgKHBoYXNlLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAvL0NyZWF0ZSBhbiBlbXB0eSBwaGFzZSBhcnJheVxyXG4gICAgZGF0YS5mcmVxdWVuY3kucGhhc2UgPSBuZXdBcnJheU9mWmVyb3MoYW1wbGl0dWRlLmxlbmd0aCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIC8vT3RoZXJ3aXNlIHN0b3JlIGl0XHJcbiAgICBkYXRhLmZyZXF1ZW5jeS5waGFzZSA9IHBoYXNlO1xyXG4gIH1cclxuXHJcbiAgLy9JZiBubyByZWFsIGFuZCBpbWFnaW5hcnkgcGFydCBoYXMgYmVlbiBwYXNzZWRcclxuICBpZiAoZmZ0UmVhbFBhcnQubGVuZ3RoID09IDAgJiYgZmZ0SW1hZ1BhcnQubGVuZ3RoID09IDApIHtcclxuICAgIC8vQ2FsY3VsYXRlIHRoZW1cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YS5mcmVxdWVuY3kuYW1wbGl0dWRlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGRhdGEuZnJlcXVlbmN5LnJlYWxQYXJ0W2ldID0gKGRhdGEuZnJlcXVlbmN5LmFtcGxpdHVkZVtpXSAqIGRhdGEuZnJlcXVlbmN5LmFtcGxpdHVkZS5sZW5ndGgpIC8gKDIgKiBNYXRoLnNxcnQoMSArIE1hdGgucG93KE1hdGgudGFuKGRhdGEuZnJlcXVlbmN5LnBoYXNlW2ldKSwgMikpKTtcclxuICAgICAgZGF0YS5mcmVxdWVuY3kuaW1hZ1BhcnRbaV0gPSBkYXRhLmZyZXF1ZW5jeS5yZWFsUGFydFtpXSAqIE1hdGgudGFuKGRhdGEuZnJlcXVlbmN5LnBoYXNlW2ldKTtcclxuICAgIH1cclxuICB9IGVsc2Uge1xyXG4gICAgLy9PdGhlcndpc2Ugc3RvcmUgaXQgd2l0aG91dCBhZGRyZXNzIGFzc29jaWF0aW9uXHJcbiAgICBkYXRhLmZyZXF1ZW5jeS5yZWFsUGFydCA9IGZmdFJlYWxQYXJ0Lm1hcChmdW5jdGlvbiAobnVtKSB7XHJcbiAgICAgIHJldHVybiBudW07XHJcbiAgICB9KTtcclxuICAgIGRhdGEuZnJlcXVlbmN5LmltYWdQYXJ0ID0gZmZ0SW1hZ1BhcnQubWFwKGZ1bmN0aW9uIChudW0pIHtcclxuICAgICAgcmV0dXJuIG51bTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy9BdXhpbGlhcmllcyB2YXJpYWJsZXMgZm9yIEZGVCBwcm9jZXNzaW5nIHdpdGhvdXQgYWRkcmVzcyBhc3NvY2lhdGlvblxyXG4gIGxldCBhdXhSZWFsID0gZGF0YS5mcmVxdWVuY3kucmVhbFBhcnQubWFwKGZ1bmN0aW9uIChudW0pIHtcclxuICAgIHJldHVybiBudW07XHJcbiAgfSk7XHJcbiAgbGV0IGF1eEltYWcgPSBkYXRhLmZyZXF1ZW5jeS5pbWFnUGFydC5tYXAoZnVuY3Rpb24gKG51bSkge1xyXG4gICAgcmV0dXJuIG51bTtcclxuICB9KTtcclxuXHJcbiAgLy9QZXJmb3JtIHRoZSBpbnZlcnNlIHRyYW5zZm9ybVxyXG4gIFtkYXRhLnRpbWUuaW1hZ1BhcnQsIGRhdGEudGltZS5yZWFsUGFydF0gPSBpbnZlcnNlVHJhbnNmb3JtKGF1eFJlYWwsIGF1eEltYWcpO1xyXG5cclxuICAvL1JlbW92ZSBhbXBsaXR1ZGUgdmFsdWVzIHVuZGVyIDEwXi0zIChkZWZhdWx0KSBhbmQsIHRodXMsIGl0J3MgcmVzcGVjdGl2ZSBwaGFzZSB2YWx1ZXNcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEudGltZS5pbWFnUGFydC5sZW5ndGg7IGkrKykge1xyXG4gICAgaWYgKGRhdGEudGltZS5pbWFnUGFydFtpXSA8IGlnbm9yZUltYWdBbXBsaXR1ZGVzTG93ZXJUaGFuKSB7XHJcbiAgICAgIGRhdGEudGltZS5pbWFnUGFydFtpXSA9IDA7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvL1JldHVybiB0aGUgd2hvbGUgdGhpbmdcclxuICByZXR1cm4gZGF0YTtcclxuXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDb21wdXRlcyB0aGUgZGlzY3JldGUgRm91cmllciB0cmFuc2Zvcm0gKERGVCkgb2YgdGhlIGdpdmVuIGNvbXBsZXggdmVjdG9yLCBzdG9yaW5nIHRoZSByZXN1bHQgYmFjayBpbnRvIHRoZSB2ZWN0b3IuXHJcbiAqIFRoZSB2ZWN0b3IgY2FuIGhhdmUgYW55IGxlbmd0aC4gVGhpcyBpcyBhIHdyYXBwZXIgZnVuY3Rpb24uXHJcbiAqIEBwYXJhbSByZWFsIFxyXG4gKiBAcGFyYW0gaW1hZyBcclxuICogQHJldHVybnMgXHJcbiAqL1xyXG5mdW5jdGlvbiB0cmFuc2Zvcm0ocmVhbDogbnVtYmVyW10sIGltYWc6IG51bWJlcltdKTogQXJyYXk8bnVtYmVyW10+IHtcclxuICB2YXIgbiA9IHJlYWwubGVuZ3RoO1xyXG4gIGlmIChuICE9IGltYWcubGVuZ3RoKVxyXG4gICAgdGhyb3cgXCJNaXNtYXRjaGVkIGxlbmd0aHNcIjtcclxuICBpZiAobiA9PSAwKVxyXG4gICAgcmV0dXJuIFtdO1xyXG4gIGVsc2UgaWYgKChuICYgKG4gLSAxKSkgPT0gMCkgLy8gSXMgcG93ZXIgb2YgMlxyXG4gICAgcmV0dXJuIHRyYW5zZm9ybVJhZGl4MihyZWFsLCBpbWFnKTtcclxuICBlbHNlIC8vIE1vcmUgY29tcGxpY2F0ZWQgYWxnb3JpdGhtIGZvciBhcmJpdHJhcnkgc2l6ZXNcclxuICAgIHJldHVybiB0cmFuc2Zvcm1CbHVlc3RlaW4ocmVhbCwgaW1hZyk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDb21wdXRlcyB0aGUgaW52ZXJzZSBkaXNjcmV0ZSBGb3VyaWVyIHRyYW5zZm9ybSAoSURGVCkgb2YgdGhlIGdpdmVuIGNvbXBsZXggdmVjdG9yLCBzdG9yaW5nIHRoZSByZXN1bHQgYmFjayBpbnRvIHRoZSB2ZWN0b3IuXHJcbiAqIFRoZSB2ZWN0b3IgY2FuIGhhdmUgYW55IGxlbmd0aC4gVGhpcyBpcyBhIHdyYXBwZXIgZnVuY3Rpb24uIFRoaXMgdHJhbnNmb3JtIGRvZXMgbm90IHBlcmZvcm0gc2NhbGluZywgc28gdGhlIGludmVyc2UgaXMgbm90IGEgdHJ1ZSBpbnZlcnNlLlxyXG4gKiBAcGFyYW0gcmVhbCBcclxuICogQHBhcmFtIGltYWcgXHJcbiAqIEByZXR1cm5zIFxyXG4gKi9cclxuZnVuY3Rpb24gaW52ZXJzZVRyYW5zZm9ybShyZWFsOiBudW1iZXJbXSwgaW1hZzogbnVtYmVyW10pOiBBcnJheTxudW1iZXJbXT4ge1xyXG4gIHJldHVybiB0cmFuc2Zvcm0oaW1hZywgcmVhbCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDb21wdXRlcyB0aGUgZGlzY3JldGUgRm91cmllciB0cmFuc2Zvcm0gKERGVCkgb2YgdGhlIGdpdmVuIGNvbXBsZXggdmVjdG9yLCBzdG9yaW5nIHRoZSByZXN1bHQgYmFjayBpbnRvIHRoZSB2ZWN0b3IuXHJcbiAqIFRoZSB2ZWN0b3IncyBsZW5ndGggbXVzdCBiZSBhIHBvd2VyIG9mIDIuIFVzZXMgdGhlIENvb2xleS1UdWtleSBkZWNpbWF0aW9uLWluLXRpbWUgcmFkaXgtMiBhbGdvcml0aG0uXHJcbiAqIEBwYXJhbSByZWFsIFxyXG4gKiBAcGFyYW0gaW1hZyBcclxuICogQHJldHVybnMgXHJcbiAqL1xyXG5mdW5jdGlvbiB0cmFuc2Zvcm1SYWRpeDIocmVhbDogbnVtYmVyW10sIGltYWc6IG51bWJlcltdKTogQXJyYXk8bnVtYmVyW10+IHtcclxuICAvLyBMZW5ndGggdmFyaWFibGVzXHJcbiAgdmFyIG4gPSByZWFsLmxlbmd0aDtcclxuICBpZiAobiAhPSBpbWFnLmxlbmd0aClcclxuICAgIHRocm93IFwiTWlzbWF0Y2hlZCBsZW5ndGhzXCI7XHJcbiAgaWYgKG4gPT0gMSkgLy8gVHJpdmlhbCB0cmFuc2Zvcm1cclxuICAgIHJldHVybiBbXTtcclxuICB2YXIgbGV2ZWxzID0gLTE7XHJcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCAzMjsgaSsrKSB7XHJcbiAgICBpZiAoMSA8PCBpID09IG4pXHJcbiAgICAgIGxldmVscyA9IGk7IC8vIEVxdWFsIHRvIGxvZzIobilcclxuICB9XHJcbiAgaWYgKGxldmVscyA9PSAtMSlcclxuICAgIHRocm93IFwiTGVuZ3RoIGlzIG5vdCBhIHBvd2VyIG9mIDJcIjtcclxuXHJcbiAgLy8gVHJpZ29ub21ldHJpYyB0YWJsZXNcclxuICB2YXIgY29zVGFibGUgPSBuZXcgQXJyYXkobiAvIDIpO1xyXG4gIHZhciBzaW5UYWJsZSA9IG5ldyBBcnJheShuIC8gMik7XHJcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBuIC8gMjsgaSsrKSB7XHJcbiAgICBjb3NUYWJsZVtpXSA9IE1hdGguY29zKDIgKiBNYXRoLlBJICogaSAvIG4pO1xyXG4gICAgc2luVGFibGVbaV0gPSBNYXRoLnNpbigyICogTWF0aC5QSSAqIGkgLyBuKTtcclxuICB9XHJcblxyXG4gIC8vIEJpdC1yZXZlcnNlZCBhZGRyZXNzaW5nIHBlcm11dGF0aW9uXHJcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyBpKyspIHtcclxuICAgIHZhciBqID0gcmV2ZXJzZUJpdHMoaSwgbGV2ZWxzKTtcclxuICAgIGlmIChqID4gaSkge1xyXG4gICAgICB2YXIgdGVtcCA9IHJlYWxbaV07XHJcbiAgICAgIHJlYWxbaV0gPSByZWFsW2pdO1xyXG4gICAgICByZWFsW2pdID0gdGVtcDtcclxuICAgICAgdGVtcCA9IGltYWdbaV07XHJcbiAgICAgIGltYWdbaV0gPSBpbWFnW2pdO1xyXG4gICAgICBpbWFnW2pdID0gdGVtcDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIENvb2xleS1UdWtleSBkZWNpbWF0aW9uLWluLXRpbWUgcmFkaXgtMiBGRlRcclxuICBmb3IgKHZhciBzaXplID0gMjsgc2l6ZSA8PSBuOyBzaXplICo9IDIpIHtcclxuICAgIHZhciBoYWxmc2l6ZSA9IHNpemUgLyAyO1xyXG4gICAgdmFyIHRhYmxlc3RlcCA9IG4gLyBzaXplO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyBpICs9IHNpemUpIHtcclxuICAgICAgZm9yICh2YXIgaiA9IGksIGsgPSAwOyBqIDwgaSArIGhhbGZzaXplOyBqKyssIGsgKz0gdGFibGVzdGVwKSB7XHJcbiAgICAgICAgdmFyIGwgPSBqICsgaGFsZnNpemU7XHJcbiAgICAgICAgdmFyIHRwcmUgPSByZWFsW2xdICogY29zVGFibGVba10gKyBpbWFnW2xdICogc2luVGFibGVba107XHJcbiAgICAgICAgdmFyIHRwaW0gPSAtcmVhbFtsXSAqIHNpblRhYmxlW2tdICsgaW1hZ1tsXSAqIGNvc1RhYmxlW2tdO1xyXG4gICAgICAgIHJlYWxbbF0gPSByZWFsW2pdIC0gdHByZTtcclxuICAgICAgICBpbWFnW2xdID0gaW1hZ1tqXSAtIHRwaW07XHJcbiAgICAgICAgcmVhbFtqXSArPSB0cHJlO1xyXG4gICAgICAgIGltYWdbal0gKz0gdHBpbTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIFtyZWFsLCBpbWFnXTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFJldHVybnMgdGhlIGludGVnZXIgd2hvc2UgdmFsdWUgaXMgdGhlIHJldmVyc2Ugb2YgdGhlIGxvd2VzdCAnYml0cycgYml0cyBvZiB0aGUgaW50ZWdlciAneCcuXHJcbiAqIEBwYXJhbSB4IFxyXG4gKiBAcGFyYW0gYml0cyBcclxuICogQHJldHVybnMgXHJcbiAqL1xyXG5mdW5jdGlvbiByZXZlcnNlQml0cyh4OiBudW1iZXIsIGJpdHM6IG51bWJlcik6IG51bWJlciB7XHJcbiAgdmFyIHkgPSAwO1xyXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYml0czsgaSsrKSB7XHJcbiAgICB5ID0gKHkgPDwgMSkgfCAoeCAmIDEpO1xyXG4gICAgeCA+Pj49IDE7XHJcbiAgfVxyXG4gIHJldHVybiB5O1xyXG59XHJcblxyXG4vKipcclxuICogQ29tcHV0ZXMgdGhlIGRpc2NyZXRlIEZvdXJpZXIgdHJhbnNmb3JtIChERlQpIG9mIHRoZSBnaXZlbiBjb21wbGV4IHZlY3Rvciwgc3RvcmluZyB0aGUgcmVzdWx0IGJhY2sgaW50byB0aGUgdmVjdG9yLlxyXG4gKiBUaGUgdmVjdG9yIGNhbiBoYXZlIGFueSBsZW5ndGguIFRoaXMgcmVxdWlyZXMgdGhlIGNvbnZvbHV0aW9uIGZ1bmN0aW9uLCB3aGljaCBpbiB0dXJuIHJlcXVpcmVzIHRoZSByYWRpeC0yIEZGVCBmdW5jdGlvbi5cclxuICogVXNlcyBCbHVlc3RlaW4ncyBjaGlycCB6LXRyYW5zZm9ybSBhbGdvcml0aG0uXHJcbiAqIEBwYXJhbSByZWFsIFxyXG4gKiBAcGFyYW0gaW1hZyBcclxuICogQHJldHVybnMgXHJcbiAqL1xyXG5mdW5jdGlvbiB0cmFuc2Zvcm1CbHVlc3RlaW4ocmVhbDogbnVtYmVyW10sIGltYWc6IG51bWJlcltdKTogQXJyYXk8bnVtYmVyW10+IHtcclxuICAvLyBGaW5kIGEgcG93ZXItb2YtMiBjb252b2x1dGlvbiBsZW5ndGggbSBzdWNoIHRoYXQgbSA+PSBuICogMiArIDFcclxuICB2YXIgbiA9IHJlYWwubGVuZ3RoO1xyXG4gIGlmIChuICE9IGltYWcubGVuZ3RoKVxyXG4gICAgdGhyb3cgXCJNaXNtYXRjaGVkIGxlbmd0aHNcIjtcclxuICB2YXIgbSA9IDE7XHJcbiAgd2hpbGUgKG0gPCBuICogMiArIDEpXHJcbiAgICBtICo9IDI7XHJcblxyXG4gIC8vIFRyaWdvbm9tZXRyaWMgdGFibGVzXHJcbiAgdmFyIGNvc1RhYmxlID0gbmV3IEFycmF5KG4pO1xyXG4gIHZhciBzaW5UYWJsZSA9IG5ldyBBcnJheShuKTtcclxuICBmb3IgKHZhciBpID0gMDsgaSA8IG47IGkrKykge1xyXG4gICAgdmFyIGogPSBpICogaSAlIChuICogMik7IC8vIFRoaXMgaXMgbW9yZSBhY2N1cmF0ZSB0aGFuIGogPSBpICogaVxyXG4gICAgY29zVGFibGVbaV0gPSBNYXRoLmNvcyhNYXRoLlBJICogaiAvIG4pO1xyXG4gICAgc2luVGFibGVbaV0gPSBNYXRoLnNpbihNYXRoLlBJICogaiAvIG4pO1xyXG4gIH1cclxuXHJcbiAgLy8gVGVtcG9yYXJ5IHZlY3RvcnMgYW5kIHByZXByb2Nlc3NpbmdcclxuICB2YXIgYXJlYWwgPSBuZXdBcnJheU9mWmVyb3MobSk7XHJcbiAgdmFyIGFpbWFnID0gbmV3QXJyYXlPZlplcm9zKG0pO1xyXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbjsgaSsrKSB7XHJcbiAgICBhcmVhbFtpXSA9IHJlYWxbaV0gKiBjb3NUYWJsZVtpXSArIGltYWdbaV0gKiBzaW5UYWJsZVtpXTtcclxuICAgIGFpbWFnW2ldID0gLXJlYWxbaV0gKiBzaW5UYWJsZVtpXSArIGltYWdbaV0gKiBjb3NUYWJsZVtpXTtcclxuICB9XHJcbiAgdmFyIGJyZWFsID0gbmV3QXJyYXlPZlplcm9zKG0pO1xyXG4gIHZhciBiaW1hZyA9IG5ld0FycmF5T2ZaZXJvcyhtKTtcclxuICBicmVhbFswXSA9IGNvc1RhYmxlWzBdO1xyXG4gIGJpbWFnWzBdID0gc2luVGFibGVbMF07XHJcbiAgZm9yICh2YXIgaSA9IDE7IGkgPCBuOyBpKyspIHtcclxuICAgIGJyZWFsW2ldID0gYnJlYWxbbSAtIGldID0gY29zVGFibGVbaV07XHJcbiAgICBiaW1hZ1tpXSA9IGJpbWFnW20gLSBpXSA9IHNpblRhYmxlW2ldO1xyXG4gIH1cclxuXHJcbiAgLy8gQ29udm9sdXRpb25cclxuICB2YXIgY1JlYWwgPSBuZXcgQXJyYXkobSk7XHJcbiAgdmFyIGNJbWFnID0gbmV3IEFycmF5KG0pO1xyXG4gIGNvbnZvbHZlQ29tcGxleChhcmVhbCwgYWltYWcsIGJyZWFsLCBiaW1hZywgY1JlYWwsIGNJbWFnKTtcclxuXHJcbiAgLy8gUG9zdHByb2Nlc3NpbmdcclxuICBmb3IgKHZhciBpID0gMDsgaSA8IG47IGkrKykge1xyXG4gICAgcmVhbFtpXSA9IGNSZWFsW2ldICogY29zVGFibGVbaV0gKyBjSW1hZ1tpXSAqIHNpblRhYmxlW2ldO1xyXG4gICAgaW1hZ1tpXSA9IC1jUmVhbFtpXSAqIHNpblRhYmxlW2ldICsgY0ltYWdbaV0gKiBjb3NUYWJsZVtpXTtcclxuICB9XHJcblxyXG4gIHJldHVybiBbcmVhbCwgaW1hZ107XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDb21wdXRlcyB0aGUgY2lyY3VsYXIgY29udm9sdXRpb24gb2YgdGhlIGdpdmVuIHJlYWwgdmVjdG9ycy4gRWFjaCB2ZWN0b3IncyBsZW5ndGggbXVzdCBiZSB0aGUgc2FtZS5cclxuICogQHBhcmFtIHggXHJcbiAqIEBwYXJhbSB5IFxyXG4gKiBAcGFyYW0gb3V0IFxyXG4gKi9cclxuZnVuY3Rpb24gY29udm9sdmVSZWFsKHg6IG51bWJlcltdLCB5OiBudW1iZXJbXSwgb3V0OiBudW1iZXJbXSk6IHZvaWQge1xyXG4gIHZhciBuID0geC5sZW5ndGg7XHJcbiAgaWYgKG4gIT0geS5sZW5ndGggfHwgbiAhPSBvdXQubGVuZ3RoKVxyXG4gICAgdGhyb3cgXCJNaXNtYXRjaGVkIGxlbmd0aHNcIjtcclxuICBjb252b2x2ZUNvbXBsZXgoeCwgbmV3QXJyYXlPZlplcm9zKG4pLCB5LCBuZXdBcnJheU9mWmVyb3MobiksIG91dCwgbmV3QXJyYXlPZlplcm9zKG4pKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIENvbXB1dGVzIHRoZSBjaXJjdWxhciBjb252b2x1dGlvbiBvZiB0aGUgZ2l2ZW4gY29tcGxleCB2ZWN0b3JzLiBFYWNoIHZlY3RvcidzIGxlbmd0aCBtdXN0IGJlIHRoZSBzYW1lLlxyXG4gKiBAcGFyYW0geFJlYWwgXHJcbiAqIEBwYXJhbSB4SW1hZyBcclxuICogQHBhcmFtIHlSZWFsIFxyXG4gKiBAcGFyYW0geUltYWcgXHJcbiAqIEBwYXJhbSBvdXRSZWFsIFxyXG4gKiBAcGFyYW0gb3V0SW1hZyBcclxuICovXHJcbmZ1bmN0aW9uIGNvbnZvbHZlQ29tcGxleCh4UmVhbDogbnVtYmVyW10sIHhJbWFnOiBudW1iZXJbXSwgeVJlYWw6IG51bWJlcltdLCB5SW1hZzogbnVtYmVyW10sIG91dFJlYWw6IG51bWJlcltdLCBvdXRJbWFnOiBudW1iZXJbXSk6IHZvaWQge1xyXG4gIHZhciBuID0geFJlYWwubGVuZ3RoO1xyXG4gIGlmIChuICE9IHhJbWFnLmxlbmd0aCB8fCBuICE9IHlSZWFsLmxlbmd0aCB8fCBuICE9IHlJbWFnLmxlbmd0aCB8fFxyXG4gICAgbiAhPSBvdXRSZWFsLmxlbmd0aCB8fCBuICE9IG91dEltYWcubGVuZ3RoKVxyXG4gICAgdGhyb3cgXCJNaXNtYXRjaGVkIGxlbmd0aHNcIjtcclxuXHJcbiAgeFJlYWwgPSB4UmVhbC5zbGljZSgpO1xyXG4gIHhJbWFnID0geEltYWcuc2xpY2UoKTtcclxuICB5UmVhbCA9IHlSZWFsLnNsaWNlKCk7XHJcbiAgeUltYWcgPSB5SW1hZy5zbGljZSgpO1xyXG4gIHRyYW5zZm9ybSh4UmVhbCwgeEltYWcpO1xyXG4gIHRyYW5zZm9ybSh5UmVhbCwgeUltYWcpO1xyXG5cclxuICBmb3IgKHZhciBpID0gMDsgaSA8IG47IGkrKykge1xyXG4gICAgdmFyIHRlbXAgPSB4UmVhbFtpXSAqIHlSZWFsW2ldIC0geEltYWdbaV0gKiB5SW1hZ1tpXTtcclxuICAgIHhJbWFnW2ldID0geEltYWdbaV0gKiB5UmVhbFtpXSArIHhSZWFsW2ldICogeUltYWdbaV07XHJcbiAgICB4UmVhbFtpXSA9IHRlbXA7XHJcbiAgfVxyXG4gIGludmVyc2VUcmFuc2Zvcm0oeFJlYWwsIHhJbWFnKTtcclxuXHJcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyBpKyspIHsgLy8gU2NhbGluZyAoYmVjYXVzZSB0aGlzIEZGVCBpbXBsZW1lbnRhdGlvbiBvbWl0cyBpdClcclxuICAgIG91dFJlYWxbaV0gPSB4UmVhbFtpXSAvIG47XHJcbiAgICBvdXRJbWFnW2ldID0geEltYWdbaV0gLyBuO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIENyZWF0ZSBhbiBhcnJheSBvZiBzaXplIGBuYCB3aXRoIHplcm9zXHJcbiAqIEBwYXJhbSBuIGFycmF5IHNpemVcclxuICogQHJldHVybnMgdGhlIHJlc3VsdGluZyBhcnJheVxyXG4gKi9cclxuZnVuY3Rpb24gbmV3QXJyYXlPZlplcm9zKG46IG51bWJlcik6IG51bWJlcltdIHtcclxuICB2YXIgcmVzdWx0ID0gW107XHJcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyBpKyspXHJcbiAgICByZXN1bHQucHVzaCgwKTtcclxuICByZXR1cm4gcmVzdWx0O1xyXG59Il0sIm5hbWVzIjpbIl9fd2VicGFja19yZXF1aXJlX18iLCJleHBvcnRzIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsImZmdCIsInNpZ25hbCIsImZzIiwiaW1hZ1BhcnQiLCJpZ25vcmVGZnRBbXBsaXR1ZGVzTG93ZXJUaGFuIiwiZGF0YSIsInRpbWUiLCJyZWFsUGFydCIsImZyZXF1ZW5jeSIsImFtcGxpdHVkZSIsInBoYXNlIiwic2FtcGxpbmdUaW1lIiwibGVuZ3RoIiwiaSIsIm5ld0FycmF5T2ZaZXJvcyIsImF1eFJlYWwiLCJtYXAiLCJudW0iLCJhdXhJbWFnIiwidHJhbnNmb3JtIiwiTWF0aCIsInNxcnQiLCJwb3ciLCJhdGFuMiIsInNvcnRBcnJheUF1eCIsInNsaWNlIiwicmV2ZXJzZSIsImZvckVhY2giLCJlbCIsInVuc2hpZnQiLCJwb3AiLCJpZmZ0IiwiZmZ0UmVhbFBhcnQiLCJmZnRJbWFnUGFydCIsImlnbm9yZUltYWdBbXBsaXR1ZGVzTG93ZXJUaGFuIiwiYWJzIiwicmVkdWNlIiwiYSIsImIiLCJtYXgiLCJ0YW4iLCJpbnZlcnNlVHJhbnNmb3JtIiwicmVhbCIsImltYWciLCJuIiwibGV2ZWxzIiwiY29zVGFibGUiLCJBcnJheSIsInNpblRhYmxlIiwiY29zIiwiUEkiLCJzaW4iLCJqIiwicmV2ZXJzZUJpdHMiLCJ0ZW1wIiwic2l6ZSIsImhhbGZzaXplIiwidGFibGVzdGVwIiwiayIsImwiLCJ0cHJlIiwidHBpbSIsInRyYW5zZm9ybVJhZGl4MiIsIm0iLCJhcmVhbCIsImFpbWFnIiwiYnJlYWwiLCJiaW1hZyIsImNSZWFsIiwiY0ltYWciLCJ4UmVhbCIsInhJbWFnIiwieVJlYWwiLCJ5SW1hZyIsIm91dFJlYWwiLCJvdXRJbWFnIiwiY29udm9sdmVDb21wbGV4IiwidHJhbnNmb3JtQmx1ZXN0ZWluIiwieCIsImJpdHMiLCJ5IiwicmVzdWx0IiwicHVzaCJdLCJzb3VyY2VSb290IjoiIn0=